# 하이퍼바이저(Hypervisior)란?

Virtualization Layer(가상화 계층)을 구현해주는 소프트웨어이다!

![[Pasted image 20241122160449.png]]

위 그림에 따르면, 실제 하드웨어 자원들과 가상 머신 사이에 Virtualization  Layer라는 것이 있다. 이는, 가상 머신과 하드웨어가 직접적으로 연결되지 않는다는 것을 시사하며, 상황에 따라선 하드웨어나 가상 머신들이 스스로가 가상화된 상태라는 것을 인지하지 못 할 때도 있다.

따라서, 하드웨어 위에서 가상 머신을 생성하고, 필요한만큼 자원을 할당해주고, 가상 머신들의 요청을 처리해주는 등 가상화를 도와줄 '매니저'가 필요하다. 이 매니저가 바로 **하이퍼바이저**이다. **하이퍼바이저** 물리 하드웨어와 가상 머신의 영역을 분리하고 위 그림에 나와있는 중간 관리자, 즉 인터페이스 역할을 한다. 하드웨어의 리소스를 가상 머신에 할당, (설치된 가상머신이 여러 개일 경우)각 가상 머신의 리소스 사용 스케줄링, 가상 머신과 하드웨어 간의 I/O 명령을 처리하는 등의 역할을 **하이퍼바이저**가 담당한다. 단일 호스트 머신에서 여러 개의 OS를 운영할 수 있는 것 또한 하이퍼바이저 덕분이다.

# 하이퍼바이저의 유형
## Bare-Metal Hypervisor(유형 1 하이퍼바이저)
Native 혹은 Bare-Metal이라고도 불린다. Bare-Metal은 하드웨어 위에서 직접 구동되어 게스트 OS를 관리한다. 하드웨어에 OS를 설치하는 것처럼 하이퍼바이저를 설치하는 것이다.

Bare-Metal에는 호스트 OS가 따로 존재하지 않는다. 게스트 OS는 하드웨어 위에 2번째 우선순위로 실행되기 때문에 오버헤드가 적다는 장점이 있다. 각 게스트 OS의 환경이 독립적으로 구성되어 있어 다른 게스트 OS에 영향을 미치지 않는다는 장점도 있다. 하지만 가상 머신들에 대한 자체적인 관리 기능이 없어, 가상 머신 관리를 위한 컴퓨터나 콘솔이 별개로 필요하다. 이들은 주로 기업용 데이터 센터에서 사용된다.

## Hosted Hypervisor(유형 2 하이퍼바이저)
이들은 이름 그대로 Host OS를 갖는 하이퍼바이저이다. 하드웨어에 이미 Host OS가 설치되어 있고, 하이퍼바이저는 OS 위에서 소프트웨어로서 동작한다.

유형 2의 가장 큰 장점으로는 기존 시스템 위에서 쉽게 사용할 수 있다는 것이다. 하지만 게스트 OS가 하드웨어 위에 3번 째 수준으로 실행되기 때문에 오버헤드가 크고, 호스트 OS의 문제가 전체 게스트 OS에 영향을 줄 수 있다는 단점이 있다.

우리가 실습하는 VirtualBox가 이 Hosted 타입의 하이퍼바이저이다.